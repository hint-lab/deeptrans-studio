<div align="center">
  <img src="public/logo.svg" alt="DeepTrans Studio" width="120" height="120">
  
  # DeepTrans Studio
  
  ### ä¸“ä¸šçš„ AI æ™ºèƒ½ç¿»è¯‘å·¥ä½œå°
  
  [![Next.js](https://img.shields.io/badge/Next.js-15.5-black?logo=nextdotjs)](https://nextjs.org/)
  [![React](https://img.shields.io/badge/React-19.1-149eca?logo=react)](https://react.dev/)
  [![TypeScript](https://img.shields.io/badge/TypeScript-5.8-3178c6?logo=typescript)](https://www.typescriptlang.org/)
  [![Prisma](https://img.shields.io/badge/Prisma-6.1-2D3748?logo=prisma)](https://prisma.io/)
  [![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
  
  [English](./README.md) | [ä¸­æ–‡](#)
  
</div>

---

## ğŸŒŸ é¡¹ç›®ç®€ä»‹

**DeepTrans Studio** æ˜¯ä¸€å¥—ä¼ä¸šçº§æ™ºèƒ½ç¿»è¯‘å¹³å°ï¼Œèåˆäº† AI ç¿»è¯‘ã€æœ¬åœ°åŒ–å·¥ç¨‹ä¸å›¢é˜Ÿåä½œèƒ½åŠ›ã€‚ä¸“ä¸ºä¸“ä¸šè¯‘å‘˜ä¸æœ¬åœ°åŒ–å›¢é˜Ÿæ‰“é€ ï¼Œæä¾›å®Œæ•´çš„ç«¯åˆ°ç«¯ç¿»è¯‘å·¥ä½œæµç®¡ç†ã€‚

<div align="center">
  <img src="public/ui.png" alt="DeepTrans Studio ç•Œé¢" width="900">
  <br/>
  <em>DeepTrans Studio ç”¨æˆ·ç•Œé¢</em>
</div>

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¯ ç¿»è¯‘ IDE
- **æ™ºèƒ½ç¼–è¾‘å™¨**ï¼šæ®µè½å¯¹é½çš„å¹³è¡Œç¼–è¾‘ï¼Œæ”¯æŒç‰ˆæœ¬æ§åˆ¶å’Œå¿«æ·é”®æ“ä½œ
- **å¤šæ™ºèƒ½ä½“ååŒ**ï¼šåè°ƒå¤šä¸ª AI æ™ºèƒ½ä½“å¤„ç†å¤æ‚ç¿»è¯‘ä»»åŠ¡
- **å®æ—¶é¢„è§ˆ**ï¼šå³æ—¶æ–‡æ¡£é¢„è§ˆï¼Œä¿ç•™åŸå§‹æ ¼å¼

### ğŸ¤– AI é©±åŠ¨ç¿»è¯‘
- **å¤šå¼•æ“æ”¯æŒ**ï¼šé›†æˆ OpenAI åŠè‡ªå®šä¹‰ AI æ¨¡å‹
- **æœ¯è¯­æå–**ï¼šè‡ªåŠ¨æå–é¢†åŸŸä¸“ä¸šæœ¯è¯­
- **è´¨é‡è¯„ä¼°**ï¼šAI é©±åŠ¨çš„è¯­æ³•ã€å¥æ³•å’Œè¯­ç¯‡è¯„ä¼°
- **ç¿»è¯‘è®°å¿†**ï¼šåŸºäº Milvus çš„å‘é‡è¯­ä¹‰æœç´¢

### ğŸ“š çŸ¥è¯†ç®¡ç†
- **é¡¹ç›®è¯å…¸**ï¼šé¡¹ç›®ä¸“å±æœ¯è¯­æ•°æ®åº“
- **ç¿»è¯‘è®°å¿†**ï¼šæ”¯æŒ TMXã€CSVã€XLSX æ ¼å¼å¯¼å…¥å¯¼å‡º
- **è¯­ä¹‰æœç´¢**ï¼šåŸºäº Milvus çš„å‘é‡ç›¸ä¼¼åº¦æœç´¢
- **å¯è§†åŒ–ç®¡ç†**ï¼šä½¿ç”¨ Attu UI ç®¡ç†å‘é‡æ•°æ®åº“

### ğŸ”„ å·¥ä½œæµè‡ªåŠ¨åŒ–
- **é˜Ÿåˆ—å¤„ç†**ï¼šåŸºäº BullMQ çš„å¼‚æ­¥ä»»åŠ¡å¤„ç†
- **æ‰¹é‡æ“ä½œ**ï¼šæ‰¹é‡ç¿»è¯‘ã€è¯„ä¼°å’Œè´¨é‡æ£€æŸ¥
- **æ–‡æ¡£è§£æ**ï¼šé€šè¿‡ PDFMath æœåŠ¡è§£æ PDFã€DOCXã€XLSX æ–‡æ¡£
- **çŠ¶æ€è¿½è¸ª**ï¼šå®Œæ•´çš„ç¿»è¯‘ç”Ÿå‘½å‘¨æœŸç®¡ç†

### ğŸ”Œ å¯æ‰©å±•æ€§
- **å¼€æ”¾æ¶æ„**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œé›†æˆ MinIOã€Milvusã€Redis
- **API ç½‘å…³**ï¼šæä¾› RESTful API ç”¨äºå¤–éƒ¨é›†æˆ
- **è‡ªå®šä¹‰æ™ºèƒ½ä½“**ï¼šå¯æ‰©å±•çš„ AI æ™ºèƒ½ä½“æ¡†æ¶
- **æ’ä»¶ç³»ç»Ÿ**ï¼šæ”¯æŒè‡ªå®šä¹‰ç¿»è¯‘å¼•æ“å’Œå¤„ç†æµç¨‹

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

DeepTrans Studio é‡‡ç”¨åŸºäº Next.js App Router çš„ç°ä»£å…¨æ ˆæ¶æ„ï¼Œé…åˆåˆ†å¸ƒå¼é˜Ÿåˆ—å¤„ç†ï¼š

```mermaid
graph TD
    Browser[Web æµè§ˆå™¨] -->|HTTPS| Traefik[Traefik ä»£ç†]
    Traefik -->|HTTP 3000| Studio[Next.js Studio]
    Traefik --> Attu[Attu UI]
    Studio -->|Server Actions| Postgres[(PostgreSQL)]
    Studio -->|ä»»åŠ¡é˜Ÿåˆ—| Redis[(Redis)]
    Studio -->|API è°ƒç”¨| PDFMath[PDFMath æœåŠ¡]
    Worker[Worker æœåŠ¡] -->|æ¶ˆè´¹ä»»åŠ¡| Redis
    Worker -->|ORM| Postgres
    Worker -->|å‘é‡æ“ä½œ| Milvus[(Milvus)]
    Worker -->|å¯¹è±¡å­˜å‚¨| MinIO[(MinIO)]
    Milvus --> etcd[(etcd)]
```

### æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶ | æŠ€æœ¯æ ˆ | ç”¨é€” |
|------|--------|------|
| **Studio** | Next.js 15, React 19, TypeScript | å‰ç«¯ UIã€Server Actionsã€èº«ä»½éªŒè¯ |
| **Worker** | Node.js, BullMQ | åå°ä»»åŠ¡å¤„ç†ã€æ‰¹é‡æ“ä½œ |
| **æ•°æ®åº“** | PostgreSQL, Prisma 6 | å…³ç³»å‹æ•°æ®å­˜å‚¨ä¸ ORM |
| **ç¼“å­˜** | Redis | ä¼šè¯ç®¡ç†ã€ä»»åŠ¡é˜Ÿåˆ— |
| **å‘é‡åº“** | Milvus + etcd | è¯­ä¹‰æœç´¢ã€ç¿»è¯‘è®°å¿† |
| **å­˜å‚¨** | MinIO (S3 å…¼å®¹) | æ–‡æ¡£å’Œèµ„æºå­˜å‚¨ |
| **è§£æå™¨** | PDFMath æœåŠ¡ | PDF åŠæ•°å­¦æ–‡æ¡£è§£æ |
| **ç½‘å…³** | Traefik | åå‘ä»£ç†ã€SSL/TLS ç»ˆç«¯ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Node.js** â‰¥ 18.18ï¼ˆæ¨èä½¿ç”¨ `corepack` ç®¡ç† Yarn 1.22.22ï¼‰
- **Yarn**ï¼ˆé€šè¿‡ `corepack enable` å¯ç”¨ï¼‰
- **Docker** & **Docker Compose**ï¼ˆç”¨äºæœåŠ¡å’Œéƒ¨ç½²ï¼‰
- **Git**

### å®‰è£…ä¾èµ–

```bash
# å¯ç”¨ corepack å¹¶è®¾ç½® Yarn
corepack enable
corepack prepare yarn@1.22.22 --activate

# å®‰è£…ä¾èµ–
yarn install
```

### ç¯å¢ƒé…ç½®

åˆ›å»º `.env.local` æ–‡ä»¶å¹¶å¡«å†™ä»¥ä¸‹é…ç½®ï¼š

```env
# æ•°æ®åº“ä¸ç¼“å­˜
DATABASE_URL="postgresql://postgres:password@localhost:5432/deeptrans"
REDIS_URL="redis://127.0.0.1:6379"

# é‰´æƒä¸ç«™ç‚¹é…ç½®
AUTH_SECRET="your-secret-key-here"  # ç”Ÿæˆæ–¹å¼: openssl rand -base64 32
NEXTAUTH_URL="http://localhost:3000"
NODE_ENV=development

# AI æœåŠ¡é…ç½®
OPENAI_API_KEY="sk-xxxx"
OPENAI_BASE_URL="https://api.openai.com/v1"
OPENAI_API_MODEL="gpt-4o-mini"

# å¯¹è±¡å­˜å‚¨
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=deeptrans

# æœåŠ¡é…ç½®
STUDIO_HOST=localhost

# å¯é€‰ï¼šGitHub OAuthã€SMTP ç­‰
# GITHUB_ID=your-github-oauth-id
# GITHUB_SECRET=your-github-oauth-secret
```

> ğŸ’¡ **å®‰å…¨æç¤º**ï¼šç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ä¸“ç”¨æ•°æ®åº“å®ä¾‹ï¼Œå¹¶å¦¥å–„ä¿ç®¡æ‰€æœ‰å‡­æ®ã€‚

### æ•°æ®åº“åˆå§‹åŒ–

```bash
# è¿è¡Œæ•°æ®åº“è¿ç§»
yarn prisma migrate deploy

# ç”Ÿæˆ Prisma Client
yarn prisma generate

# ï¼ˆå¯é€‰ï¼‰å¯¼å…¥ç¤ºä¾‹æ•°æ®
yarn db:seed
```

### å¼€å‘æ¨¡å¼

**æ–¹å¼ä¸€ï¼šä½¿ç”¨ Docker Composeï¼ˆæ¨èï¼‰**

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker compose up -d db redis etcd milvus minio pdfmath worker

# å¯åŠ¨ Next.js å¼€å‘æœåŠ¡å™¨
yarn dev

# è®¿é—®åº”ç”¨: http://localhost:3000
```

**æ–¹å¼äºŒï¼šæœ¬åœ°æœåŠ¡**

```bash
# å¯åŠ¨ Next.js å¼€å‘æœåŠ¡å™¨
yarn dev

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯å¯åŠ¨ Worker
yarn dev:worker
```

å¯ç”¨ç•Œé¢ï¼š
- **Studio**: http://localhost:3000
- **Attu (Milvus UI)**: http://localhost:8001
- **Prisma Studio**: è¿è¡Œ `yarn prisma studio`

### ç”Ÿäº§éƒ¨ç½²

```bash
# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env.production
# ç¼–è¾‘ .env.production å¡«å†™ç”Ÿäº§ç¯å¢ƒé…ç½®

# æ„å»ºé•œåƒ
docker compose build studio worker pdfmath

# éƒ¨ç½²æœåŠ¡
docker compose up -d traefik studio worker db redis milvus minio

# æœåŠ¡å°†åœ¨é…ç½®çš„åŸŸåä¸Šé€šè¿‡ Traefik æä¾› SSL è®¿é—®
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
deeptrans-studio/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (app)/              # ä¸»åº”ç”¨é¡µé¢
â”‚   â”‚   â”œâ”€â”€ api/                # API è·¯ç”±ï¼ˆé€æ­¥è¿ç§»è‡³ Server Actionsï¼‰
â”‚   â”‚   â””â”€â”€ layout.tsx          # æ ¹å¸ƒå±€ä¸ providers
â”‚   â”œâ”€â”€ actions/                # Server Actionsï¼ˆæ•°æ®åº“ã€AIã€æ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ agents/                 # AI æ™ºèƒ½ä½“å®šä¹‰ä¸æç¤ºè¯
â”‚   â”œâ”€â”€ components/             # å¯å¤ç”¨ UI ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/                  # è‡ªå®šä¹‰ React Hooks
â”‚   â”œâ”€â”€ lib/                    # å·¥å…·å‡½æ•°ä¸å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ store/                  # çŠ¶æ€ç®¡ç†ï¼ˆZustandï¼‰
â”‚   â”œâ”€â”€ db/                     # æ•°æ®åº“å®¢æˆ·ç«¯ä¸ä»“å‚¨
â”‚   â”œâ”€â”€ types/                  # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ worker/                 # åå° Worker ä»»åŠ¡
â”œâ”€â”€ prisma/                     # æ•°æ®åº“æ¨¡å¼ä¸è¿ç§»
â”‚   â”œâ”€â”€ schema.prisma           # Prisma æ¨¡å¼å®šä¹‰
â”‚   â””â”€â”€ migrations/             # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”œâ”€â”€ scripts/                    # å¼€å‘ä¸å·¥å…·è„šæœ¬
â”œâ”€â”€ public/                     # é™æ€èµ„æº
â”œâ”€â”€ docker-compose.yml          # Docker æœåŠ¡ç¼–æ’
â”œâ”€â”€ Dockerfile                  # å®¹å™¨é•œåƒå®šä¹‰
â””â”€â”€ package.json                # é¡¹ç›®ä¾èµ–
```

## ğŸ› ï¸ å¸¸ç”¨è„šæœ¬

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `yarn dev` | å¯åŠ¨ Next.js å¼€å‘æœåŠ¡å™¨ï¼ˆçƒ­æ›´æ–°ï¼‰ |
| `yarn dev:worker` | æœ¬åœ°å¯åŠ¨ Worker æœåŠ¡ï¼ˆå¦‚ä¸ä½¿ç”¨ Dockerï¼‰ |
| `yarn build` | æ„å»ºç”Ÿäº§ç‰ˆæœ¬ Next.js åº”ç”¨ |
| `yarn build:worker` | ç¼–è¯‘ Worker æœåŠ¡ï¼ˆesbuild â†’ dist/worker.cjsï¼‰ |
| `yarn start` | å¯åŠ¨ç”Ÿäº§æ¨¡å¼ Next.js æœåŠ¡å™¨ |
| `yarn lint` | è¿è¡Œ ESLint ä»£ç è´¨é‡æ£€æŸ¥ |
| `yarn type-check` | è¿è¡Œ TypeScript ç±»å‹æ£€æŸ¥ |
| `yarn prisma studio` | æ‰“å¼€ Prisma Studio æ•°æ®åº“ GUI |
| `yarn prisma generate` | ç”Ÿæˆ Prisma Client |
| `yarn db:push` | æ¨é€æ¨¡å¼å˜æ›´åˆ°æ•°æ®åº“ |
| `yarn db:seed` | å¯¼å…¥ç¤ºä¾‹æ•°æ®åˆ°æ•°æ®åº“ |
| `yarn test:segment` | æµ‹è¯•åˆ†æ®µè§£æ |
| `yarn test:docx` | æµ‹è¯•æ–‡æ¡£è§£æ |
| `yarn queue:ui` | å¯åŠ¨ Bull Board é˜Ÿåˆ—ç›‘æ§ |

## ğŸŒ å›½é™…åŒ–

DeepTrans Studio ä½¿ç”¨ [next-intl](https://next-intl-docs.vercel.app/) è¿›è¡Œå›½é™…åŒ–ï¼š

- ç¿»è¯‘æ–‡ä»¶ï¼š`src/i18n/en.json`ã€`src/i18n/zh.json`
- ä½¿ç”¨æ–¹å¼ï¼š`useTranslations('namespace')` Hook
- æ”¯æŒè¯­è¨€ï¼šè‹±è¯­ã€ä¸­æ–‡ï¼ˆå¯æ‰©å±•ï¼‰

æ·»åŠ æ–°ç¿»è¯‘æ—¶ï¼Œè¯·ç¡®ä¿æ‰€æœ‰è¯­è¨€æ–‡ä»¶åŒæ­¥æ›´æ–°ã€‚

## ğŸ¤ å‚ä¸è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æŒ‡å¼•ï¼š

### åˆ†æ”¯ç­–ç•¥
- `feat/*` - æ–°åŠŸèƒ½
- `fix/*` - Bug ä¿®å¤
- `chore/*` - ç»´æŠ¤ä»»åŠ¡
- `docs/*` - æ–‡æ¡£æ›´æ–°

### å¼€å‘æµç¨‹

1. **Fork & Clone**ï¼šFork ä»“åº“å¹¶å…‹éš†åˆ°æœ¬åœ°
2. **åˆ›å»ºåˆ†æ”¯**ï¼šä» `main` åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. **ä»£ç ä¿®æ”¹**ï¼šæŒ‰ç…§ç¼–ç è§„èŒƒè¿›è¡Œä¿®æ”¹
4. **è´¨é‡æ£€æŸ¥**ï¼šè¿è¡Œä»£ç æ£€æŸ¥å’Œç±»å‹æ£€æŸ¥
   ```bash
   yarn lint
   yarn type-check
   ```
5. **æäº¤ä»£ç **ï¼šä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) æ ¼å¼
   ```
   feat: æ·»åŠ ç¿»è¯‘è®°å¿†å¯¼å…¥åŠŸèƒ½
   fix: ä¿®å¤èº«ä»½éªŒè¯ Bug
   docs: æ›´æ–°å®‰è£…æŒ‡å—
   ```
6. **æäº¤ PR**ï¼šæäº¤ Pull Request å¹¶é™„ä¸Šæ¸…æ™°çš„æè¿°

### ä»£ç è§„èŒƒ
- éµå¾ª ESLint å’Œ Prettier é…ç½®
- ç¼–å†™å¸¦æœ‰æ­£ç¡®ç±»å‹çš„ TypeScriptï¼ˆé¿å…ä½¿ç”¨ `any`ï¼‰
- ä¸ºå¤æ‚å‡½æ•°æ·»åŠ  JSDoc æ³¨é‡Š
- ä¸ºæ–°åŠŸèƒ½ç¼–å†™å•å…ƒæµ‹è¯•
- åŠæ—¶æ›´æ–°æ–‡æ¡£

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®® - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

åŸºäºä»¥ä¸‹ç°ä»£æŠ€æœ¯æ„å»ºï¼š
- [Next.js](https://nextjs.org/) - React æ¡†æ¶
- [Prisma](https://www.prisma.io/) - æ•°æ®åº“ ORM
- [Milvus](https://milvus.io/) - å‘é‡æ•°æ®åº“
- [BullMQ](https://docs.bullmq.io/) - ä»»åŠ¡é˜Ÿåˆ—
- [MinIO](https://min.io/) - å¯¹è±¡å­˜å‚¨
- [Traefik](https://traefik.io/) - åå‘ä»£ç†

## ğŸ“ æ”¯æŒ

- **Issues**ï¼š[GitHub Issues](https://github.com/yourusername/deeptrans-studio/issues)
- **è®¨è®º**ï¼š[GitHub Discussions](https://github.com/yourusername/deeptrans-studio/discussions)
- **æ–‡æ¡£**ï¼šæŸ¥çœ‹ `/docs` æ–‡ä»¶å¤¹è·å–è¯¦ç»†æŒ‡å—

---

<div align="center">
  
  ä¸ºä¸“ä¸šè¯‘å‘˜å’Œæœ¬åœ°åŒ–å›¢é˜Ÿå€¾å¿ƒæ‰“é€  â¤ï¸
  
  â­ å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè¯·åœ¨ GitHub ä¸Šç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼
  
</div>

